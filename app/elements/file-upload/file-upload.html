<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../a-button/a-button.html">

<dom-module id="file-upload">
  <template>
  <style>
    #file {
      opacity: 0;
    }
  </style>
<link rel="stylesheet" href="file-upload.css">
      
      <a-button on-click="startFile" icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+Cjxzdmcgd2lkdGg9IjU4MCIgaGVpZ2h0PSI0MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8IS0tIENyZWF0ZWQgd2l0aCBNZXRob2QgRHJhdyAtIGh0dHA6Ly9naXRodWIuY29tL2R1b3BpeGVsL01ldGhvZC1EcmF3LyAtLT4KIDxnPgogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4KICA8cmVjdCBmaWxsPSIjZmZmIiBpZD0iY2FudmFzX2JhY2tncm91bmQiIGhlaWdodD0iNDAyIiB3aWR0aD0iNTgyIiB5PSItMSIgeD0iLTEiLz4KICA8ZyBkaXNwbGF5PSJub25lIiBvdmVyZmxvdz0idmlzaWJsZSIgeT0iMCIgeD0iMCIgaGVpZ2h0PSIxMDAlIiB3aWR0aD0iMTAwJSIgaWQ9ImNhbnZhc0dyaWQiPgogICA8cmVjdCBmaWxsPSJ1cmwoI2dyaWRwYXR0ZXJuKSIgc3Ryb2tlLXdpZHRoPSIwIiB5PSIwIiB4PSIwIiBoZWlnaHQ9IjEwMCUiIHdpZHRoPSIxMDAlIi8+CiAgPC9nPgogPC9nPgogPGc+CiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogIDxwYXRoIGQ9Im0xMzYsMTE4LjVjMCwxIDAsOCAwLDE3YzAsMTEgMCwxNiAwLDIyYzAsNCAwLDYgMCw5YzAsNSAwLDggMCwxMmMwLDMgLTEuNjE3MDIsNi43NDcwNyAtMywxMWMtMS44ODEwNTgsNS43ODQ2MDcgLTIuNDkzNDU0LDguODc4NTU1IC0zLDEyYy0wLjY0MDczMiwzLjk0ODM0OSAtMC4yOTE0MjgsMTEuMDQxODQgMSwxOWMwLjgxNjc3Miw1LjAzMzE3MyAzLjE2Nzk2OSw5LjkyMDMzNCA1LDE0YzIuMjA2MDcsNC45MTI1NjcgMS41MTk0NTUsOS4wMzg3NDIgMiwxMmMwLjUwNjU0NiwzLjEyMTQ0NSAxLDYgMSw3YzAsMSAxLDEgMiwxYzEsMCA0LjA3ODQzLDAuMjEwMTQ0IDcsLTFjNC4xMzE3MTQsLTEuNzExNDExIDcuOTg0NTI4LC00LjA4MDc1IDEzLC01YzUuOTgzMDkzLC0xLjA5NjYwMyAxMC41MjgxNTIsLTMuOTg1MzM2IDE2LC02YzUuNzA4MTQ1LC0yLjEwMTY2OSAxMS45MTU3MjYsLTMuNDI2NDgzIDIxLC01YzcuOTQzOTcsLTEuMzc2MDA3IDE3LjAwNTQ3OCwtMS45NjIzODcgMjQsLTNjMTMuMDEwNTU5LC0xLjkzMDA4NCAyMS45OTQ2NDQsLTMuMDQ5NDY5IDMxLC00YzkuOTk0MzU0LC0xLjA1NDkzMiAxNS42OTE0NjcsLTIuODU4NjI3IDIzLC01YzUuODM3MzcyLC0xLjcxMDMyNyAxMy45MDc3NzYsLTIuNDk2MjMxIDE4LC0zYzIuOTc3NTA5LC0wLjM2NjU0NyA2LjA1MTYzNiwtMC4zNTkyNjggMTAsLTFjMy4xMjE0MjksLTAuNTA2NTQ2IDUuMTcxNjMxLDAuMTU5MTM0IDksLTFjMy40NTA4MzYsLTEuMDQ0ODMgNywtMiAxMSwtMmM0LDAgNi4wODAyNjEsLTAuMzEwNzQ1IDksLTFjMi4xNzYyMzksLTAuNTEzNzQ4IDMsLTEgNCwtMWMxLDAgMSwtMSAxLC0yYzAsLTMgLTEuMjk1NDcxLC04Ljg4NjgyNiAtNSwtMTljLTMuMjYzMDYyLC04LjkwNzk5IC01LjUzMzc1MiwtMTYuMDk2NjAzIC03LC0yMmMtMC43NjIyNjgsLTMuMDY5MDMxIC0yLC02IC0yLC05YzAsLTMgMCwtNSAwLC03YzAsLTEgMC4zODI2OSwtMi4wNzYxMjYgMCwtM2MtMC41NDExOTksLTEuMzA2NTY0IC0wLjY3OTYyNiwtMy4wMjU4MTggLTEsLTVjLTAuNTA2NTMxLC0zLjEyMTQ0NSAtMS40OTYyMTYsLTUuOTA3NzkxIC0yLC0xMGMtMC4zNjY1NDcsLTIuOTc3NTI0IDAsLTYgMCwtOWMwLC01IDAsLTggMCwtMTBjMCwtMSAwLjcwNzA5MiwtMi4yOTI4OTIgMCwtM2MtMC43MDcwOTIsLTAuNzA3MTA4IC0xLjkyNTc4MSwtMC40OTc1NTEgLTcsLTFjLTcuOTYxMDYsLTAuNzg4MyAtMjAsMCAtMzcsMGMtMjEsMCAtMzkuNzg5MTM5LDIuODk2ODEyIC01NSw2Yy0xMy44NTY3MiwyLjgyNjkyNyAtMjEuMDg3NDAyLDIuMzk4MjYyIC0zMCw0Yy04LjExNjE4LDEuNDU4NjExIC0xNC4wNzE3OTMsMi42OTEyMzggLTE5LDRjLTMuMDU2MzM1LDAuODExNjYxIC03LDEgLTEzLDFjLTQsMCAtNywwIC0xMiwwYy0yLDAgLTQsMCAtNiwwYy0yLDAgLTMuNjkzNDM2LC0xLjQ1ODgwMSAtNSwtMmMtMC45MjM4NzQsLTAuMzgyNjkgLTIsLTEgLTIsLTFjLTEsMCAtMSwtMiAtMiwtMmwwLDBsLTEsMCIgaWQ9InN2Z18xIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiAgPHBhdGggZD0ibTIyNywxNTMuNWMtMSwwIC0xLDEgLTEsMmMwLDEgMCw0IDAsOWMwLDQgLTAuOTE5MDA2LDkuMTA3MDEgMCwxM2MwLjUxMzc0OCwyLjE3NjI1NCAxLDMgMSw0YzAsMSAtMC4yMjk3NTIsMi4wMjY3NDkgMCwzYzAuNTEzNzQ4LDIuMTc2MjU0IDIuNzA1NDYsMy4zNDYxOTEgNSw1YzMuNjI3OTkxLDIuNjE0ODk5IDcuMjI5MzU1LDQuMzMxOTg1IDExLDZjMy4yOTczMzMsMS40NTg2MzMgNy4wNTE2NTEsMi4zNTkyNjggMTEsM2MzLjEyMTQyOSwwLjUwNjU0NiA0Ljg3ODU3MSwxLjQ5MzQ1NCA4LDJjMS45NzQxODIsMC4zMjAzNTggNSwwIDcsMGMzLDAgNS4xNTIyNTIsMC43NjUzNjYgNywwYzIuNjEzMTI5LC0xLjA4MjM5NyA1LC00IDgsLTZjMywtMiA0LjY5MjUzNSwtNS4xODYwMDUgNiwtN2MxLjY1MzgwOSwtMi4yOTQ1NCAyLjY5MjUzNSwtNC4xODYwMDUgNCwtNmMwLjgyNjkwNCwtMS4xNDcyNjMgMSwtMyAxLC01YzAsLTMgMC42ODkyNywtNi4wODAyNDYgMCwtOWMtMC41MTM3MzMsLTIuMTc2MjU0IC0yLjc1NTMxLC01LjEzMjAwNCAtNSwtOWMtMS44MDk3MjMsLTMuMTE4NDg0IC00LjEzMjAxOSwtNS43NTUzMSAtOCwtOGMtMy4xMTg0NjksLTEuODA5NzIzIC00Ljg2ODI4NiwtNC4yODg1ODkgLTksLTZjLTIuOTIxNTcsLTEuMjEwMTQ0IC02LjA4MDI2MSwtMi4zMTA3NDUgLTksLTNjLTQuMzUyNTA5LC0xLjAyNzQ4MSAtNywtMyAtMTAsLTRjLTMsLTEgLTQsLTEgLTUsLTFjLTEsMCAtMi4xMTI3NDcsLTAuNjYyMDE4IC00LDBjLTYuMDQyMTc1LDIuMTE5NDc2IC05LDcgLTE2LDExbC00LDNsLTMsM2wtMSwwIiBpZD0ic3ZnXzIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiLz4KICA8cGF0aCBkPSJtMTQ5LDE0Ny41YzEsMCA0LjAyNTgxOCwwLjMyMDM1OCA2LDBjMy4xMjE0NDUsLTAuNTA2NTQ2IDUuMDM4NzQyLC0wLjUxOTQ1NSA4LC0xYzMuMTIxNDQ1LC0wLjUwNjU0NiA0LC0xIDYsLTFjMiwwIDMsMCA1LDBjMSwwIDIsMCAzLDBjMSwwIDIsMCAzLDBjMSwwIDEsMCAxLDFjMCwwIDAsMSAwLDJjMCwxIDAsMiAwLDNjMCwxIDAsMiAwLDJjMCwxIDAsMiAwLDNjMCwxIDAsMiAwLDJjLTEsMCAtMS44MjM3NDYsMC40ODYyNTIgLTQsMWMtMS45NDY1MDMsMC40NTk1MDMgLTQuMTg2MDA1LDAuNjkyNTUxIC02LDJjLTEuMTQ3MjYzLDAuODI2OTA0IC0yLDEgLTMsMmMtMSwxIC0zLjkwNzc5MSwxLjQ5NjIzMSAtOCwyYy0yLjk3NzUyNCwwLjM2NjU0NyAtNywxIC04LDFjLTMsMCAtMywwIC00LDBjLTEsMCAtMS40NTg4MDEsLTAuNjkzNDM2IC0yLC0yYy0wLjM4MjY5LC0wLjkyMzg3NCAwLjcwNzEwOCwtMi4yOTI4OTIgMCwtM2MtMC43MDcxMDgsLTAuNzA3MTA4IC0xLC0xIC0xLC0yYzAsMCAwLC0xIDAsLTJjMCwtMiAwLC0zIDAsLTRjMCwtMSAwLC0yIDAsLTNjMCwwIDAsLTEgMCwtMmMwLC0xIDAuMjkyODkyLC0yLjI5Mjg5MiAxLC0zYzAuNzA3MTA4LC0wLjcwNzEwOCAyLDAgMywwbDAsMGwxLDBsMSwwIiBpZD0ic3ZnXzMiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiLz4KICA8cGF0aCBkPSJtMjM3LDExNy41YzEsMCAyLDAgNCwwYzIsMCAyLjI5Mjg5MiwtMC4yOTI4OTIgMywtMWMwLjcwNzEwOCwtMC43MDcxMDggMS4yOTI4OTIsLTEuMjkyODkyIDIsLTJjMC43MDcxMDgsLTAuNzA3MTA4IDQuMDc4NDMsLTEuNzg5ODQ4IDcsLTNjMi4wNjU4NTcsLTAuODU1NzA1IDUsLTMgNywtM2MxLDAgMiwwIDMsMGMxLDAgMiwwIDMsMGMxLDAgMi4wMjY3NjQsLTAuMjI5NzUyIDMsMGMyLjE3NjIzOSwwLjUxMzc0MSAyLjY5MzQ1MSwxLjQ1ODgwMSA0LDJjMC45MjM4ODksMC4zODI2ODMgMSwxIDIsMWwxLDEiIGlkPSJzdmdfNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iIzAwMCIgZmlsbD0ibm9uZSIvPgogIDxwYXRoIGQ9Im0xNDYsMjEwLjVjMCwxIDAsMyAwLDRjMCwxIDAsMyAwLDVjMCwxIDAsMiAwLDNjMCwxIDAsMiAwLDNjMCwyIDAsMyAwLDRjMCwxIDAsMiAwLDNsMCwxIiBpZD0ic3ZnXzUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiLz4KICA8cGF0aCBkPSJtMTYxLDIzMi41YzAsLTEgMCwtMyAwLC00YzAsLTEgMCwtMiAwLC00YzAsLTEgMCwtMiAwLC0zYzAsLTEgMCwtMiAwLC0zYzAsLTMgMCwtNiAwLC04YzAsLTMgMCwtNSAwLC02bDAsMCIgaWQ9InN2Z182IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiAgPHBhdGggZD0ibTE3NywyMjkuNWMwLC0xIDAsLTMgMCwtNGMwLC0xIDAsLTIgMCwtM2MwLC0xIDAsLTIgMCwtM2MwLC0xIDAsLTIgMCwtNGMwLC0zIDAsLTUgMCwtNmMwLC0xIDAsLTIgMCwtM2wwLC0xbDAsLTFsMCwtMSIgaWQ9InN2Z183IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiAgPHBhdGggZD0ibTI3OCwxNTYuNWMwLDEgMC4yOTI5MDgsMS4yOTI4OTIgMSwyYzAuNzA3MDkyLDAuNzA3MTA4IDEuMjkyOTA4LDAuMjkyODkyIDIsMWMwLjcwNzA5MiwwLjcwNzEwOCAwLjYxNzMxLDIuMDc2MTI2IDEsM2MwLjU0MTE5OSwxLjMwNjU2NCAxLDIgMSwzYzAsMSAxLDEgMSwyYzAsMSAwLDIgMCwzYzAsMSAwLDIgMCwzYzAsMSAwLDIgMCwzYzAsMSAwLDIgMCwzYzAsMCAtMSwwIC0xLDFjMCwxIC0wLjI5MjkwOCwxLjI5Mjg5MiAtMSwyYy0wLjcwNzA5MiwwLjcwNzEwOCAtMS4yOTI5MDgsMC4yOTI4OTIgLTIsMWMtMS40MTQyMTUsMS40MTQyMTUgLTAuNjE3MzEsMi4wNzYxMjYgLTEsM2MtMC41NDExOTksMS4zMDY1NjQgLTEuNjkzNDUxLDEuNDU4ODAxIC0zLDJjLTAuOTIzODg5LDAuMzgyNjkgLTEsMSAtMiwxYy0xLDAgLTIsMCAtNCwwYy0xLDAgLTQsMCAtNSwwYy0zLDAgLTQsMCAtNSwwYzAsMCAtMSwwIC0yLDBjLTEsMCAtMiwwIC0yLDBsLTEsMCIgaWQ9InN2Z184IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiA8L2c+Cjwvc3ZnPg==">UP!</a-button>

      <input type="file" name="File" id="file" on-change="setFiles" capture="camera">
  </template>
  </dom-module>
  <script>
    (function () {
      'use strict';

      var imgval;

      Polymer({

        is: 'file-upload',

        properties: {
          imgval: {
            type: String,
            notify: true,
            observer: 'testObs'
        }

        },

        startFile: function(){
          this.$.file.click();
        },

        ready: function(){
          this.imgval = '';
        },

        testObs: function(){
          console.log('imgval: ',this.imgval);
        },

        setFiles: function(){
          //console.log('Set files started');
          this.fileInput = this.$.file.files[0];
          //this.imageType = /image.*/;
          var that = this;
          // if (this.fileInput.type.match(this.imageType)) {
          //console.log('das godver een goeie image jong');
          var reader = new FileReader();
          //console.log('reader: ', reader);
          reader.onload = function(e) {
          //console.log(reader.result);]
            //console.log('de reader wordt uitgevoerd');
            that.imgval = reader.result;
            //console.log(that.imgval);
          }

          reader.readAsDataURL(this.fileInput);
                    // }

        }
        
      });

    })();
  </script>

