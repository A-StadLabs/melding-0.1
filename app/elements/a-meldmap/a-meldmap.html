<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by leaflet as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/leaflet-map/leaflet-map.html">


<link rel="import" href="../../bower_components/firebase-element/firebase.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-collection.html">



<dom-module id="a-meldmap">
  <style>
    :host {
      display: block;
      margin: 30px 0px 0px 0px;
      height: 100%;
      width: 100%;

    }

    h2 {
      margin: 0px 0px 0px 0px;
      padding: 0px;
      font-size: 20px;
      font-weight: 300;
      text-transform: capitalize;
    }

    img {
      width: 35px;
      margin-right: 6px;
    }

    leaflet-map {
      height: 100%;
      width: 100%;
    }

  </style>
  <template>
    <!-- <firebase-element
          order-by-child="tijd"
          location="https://ophaal.firebaseio.com/meldingen"
          data="{{datameld}}" log></firebase-element> -->

    <!-- <firebase-collection id="fbgetmeld" location="https://blazing-fire-6426.firebaseio.com/ophaal/meldingen" data="{{datameld}}" log></firebase-collection>
 -->
 <leaflet-map longitude="77.2" latitude="28.4" zoom="12" class="flex"></leaflet-map>
     
  <!-- <leaflet-map zoom="12" fitToMarkers latitude="{{latitude}}" longitude="{{longitude}}">
   <leaflet-marker iconUrl="https://stendhalgame.org/images/mapmarker/me.png" latitude="{{latitude}}" longitude="{{longitude}}">test
      </leaflet-marker> -->
  <!-- <template is="dom-repeat" items="{{datameld}}">
      <leaflet-marker iconUrl="https://stendhalgame.org/images/mapmarker/me.png" latitude="{{item.lat}}" longitude="{{item.lon}}">
      </leaflet-marker>
</template> -->
<!-- </leaflet-map> -->
    <!-- <template is="dom-repeat" items="{{datameld}}">
      <p>{{item.comment}}</p>
    </template> -->
  </template>
</dom-module>

<script>
(function() {


  Polymer({
    is: 'a-meldmap',

    properties: {
      latitude: {
        type: String,
        value: '',
        notify: true,
        observer: 'hasvalue'
      },
      longitude: {
        type: String,
        value: '',
        notify: true,
        observer: 'hasvalue'
      },
      key: {
        type: String,
        value: '',
        notify: true,
        observer: 'hasvalue'
      }
    },

      ready: function(){
        //console.log('i has streets loaded');
      },

      hasvalue: function(){
        //console.log(this.foo);
        // moment.locale('nl');
        // this.newdatum = moment(this.datum).format('dddd D MMMM');
        //console.log(this.newdatum);
      }
     

    
  });
})();
</script>
